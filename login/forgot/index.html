<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="style.css">
    <meta name="referrer" content="no-referrer" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">
    <title> Forgot </title>
</head>

<body>
    <div class="shell">
        <h2 class="title">Forgot</h2>
        <input type="email" id="email" placeholder="Enter the email you used to login">
        <input type="submit" value="Confirm" id="loginBtn">
    </div>


<script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
<script>
    let appId = 'rzV27a2iZkM3qCAIMnz2u6pO-9Nh9j0Va';
    let appKey = '6sPXQuSvQBiMk60c7sFhRPVz';
    AV.init({
        appId: appId,
        appKey: appKey,
        serverURL: 'https://rzv27a2i.lc-cn-n1-shared.com',
    });
    document.getElementById('loginBtn').addEventListener("click", async function () {
    var email = document.getElementById("email").value.trim();
    try {
        await AV.User.requestPasswordReset(email);
        alert('The reset-password email was successfully!');
    } catch (error) {
        if (error.code == '204') {
            alert('The email is missing, please enter your email address.');
        } 
        else if (error.code == '205') {
            alert('The email is invalid.');
        } else {
            alert('An unknown error occurred');
        }
    }

});
</script>
</body>

</html>