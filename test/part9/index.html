---
layout: default
refactor: true
---

{% include lang.html %}

{% assign pinned = site.posts | where: 'pin', 'true' %}
{% assign default = site.posts | where_exp: 'item', 'item.pin != true and item.hidden != true' %}

{% assign posts = '' | split: '' %}


<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="style.css">
    <meta name="referrer" content="no-referrer" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">
    <title>Login Test</title>
</head>

<body>
    <h1>Hello!</h1>
    
    <script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
    <script type="text/javascript">
        let appId = 'rzV27a2iZkM3qCAIMnz2u6pO-9Nh9j0Va';
        let appKey = '6sPXQuSvQBiMk60c7sFhRPVz';
        AV.init({
            appId: appId,
            appKey: appKey,
            serverURL: 'https://rzv27a2i.lc-cn-n1-shared.com',
        });

        const currentUser = AV.User.current();
        console.log(currentUser);
        function checkLogin() {
            if (currentUser) {
                // 跳到首页
                document.body.style.display = 'block';
            } else {
                // 显示注册或登录页面
                window.location.href = '.https://jo-cruise.github.io/test/part8';
            }
        }

        // 在页面加载时调用checkLogin函数检查登录状态
        window.addEventListener('load', checkLogin);
    </script>
</body>